<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DSCG Curriculum Generator</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="{{ url_for('static', filename='css/style.css') }}" rel="stylesheet">
</head>
<body>
    <div class="container mt-4">
        <div class="row">
            <div class="col-md-12">
                <h1 class="mb-4">üéØ DSCG Curriculum Generator (UOL v2)</h1>
                <p class="lead">Generate industry-ready curricula with concrete learning units</p>
            </div>
        </div>

        <!-- Error Section -->
        <div id="error-section" class="alert alert-danger" style="display: none;">
            <h5>‚ùå Generation Error</h5>
            <p id="error-message"></p>
        </div>

        <!-- Generator Form -->
        <div class="row">
            <div class="col-md-8">
                <div class="card">
                    <div class="card-header">
                        <h3>üìã Curriculum Configuration</h3>
                    </div>
                    <div class="card-body">
                        <form id="curriculum-form">
                            <!-- Role Selection -->
                            <div class="mb-3">
                                <label for="role-select" class="form-label">Professional Role</label>
                                <select class="form-select" id="role-select" name="role" required>
                                    <option value="">Select a role...</option>
                                </select>
                                <div class="form-text">Choose the target professional role for the curriculum</div>
                            </div>

                            <!-- EQF Level -->
                            <div class="mb-3">
                                <label for="eqf-select" class="form-label">EQF Level</label>
                                <select class="form-select" id="eqf-select" name="eqf_level" required>
                                    <option value="">Select EQF level...</option>
                                </select>
                                <div class="form-text">European Qualification Framework level</div>
                            </div>

                            <!-- ECTS Credits -->
                            <div class="mb-3">
                                <label for="ects-input" class="form-label">ECTS Credits</label>
                                <input type="number" class="form-control" id="ects-input" name="ects" 
                                       min="0.1" max="200" step="0.1" required>
                                <div class="form-text">
                                    <span id="ects-suggestion"></span>
                                </div>
                            </div>

                            <!-- Units of Learning (UOL) - NEW -->
                            <div class="mb-3">
                                <label for="uol-input" class="form-label">Units of Learning (UOL)</label>
                                <input type="number" class="form-control" id="uol-input" name="uol" 
                                       min="2" max="10" value="4" required>
                                <div class="form-text">
                                    <span id="uol-suggestion">Number of focused learning units (2-10)</span>
                                </div>
                                <div id="uol-error" class="text-danger"></div>
                            </div>

                            <!-- Topic -->
                            <div class="mb-3">
                                <label for="topic-input" class="form-label">Topic Focus (Optional)</label>
                                <input type="text" class="form-control" id="topic-input" name="topic" 
                                       placeholder="e.g., Data Analytics, Sustainability Management">
                                <div class="form-text">Leave blank for generic digital sustainability focus</div>
                            </div>

                            <!-- Theme Selection -->
                            <div class="mb-3">
                                <label for="theme-select" class="form-label">Visual Theme</label>
                                <select class="form-select" id="theme-select" name="theme">
                                    <option value="material_gray">Material Gray (Default)</option>
                                    <option value="sustainability_green">Sustainability Green</option>
                                    <option value="digital_blue">Digital Blue</option>
                                    <option value="professional_purple">Professional Purple</option>
                                    <option value="corporate_navy">Corporate Navy</option>
                                </select>
                            </div>

                            <!-- Output Formats -->
                            <div class="mb-3">
                                <label class="form-label">Output Formats</label>
                                <div class="form-check">
                                    <input class="form-check-input" type="checkbox" name="formats" 
                                           value="html" id="format-html" checked>
                                    <label class="form-check-label" for="format-html">
                                        HTML (Visual curriculum)
                                    </label>
                                </div>
                                <div class="form-check">
                                    <input class="form-check-input" type="checkbox" name="formats" 
                                           value="json" id="format-json" checked>
                                    <label class="form-check-label" for="format-json">
                                        JSON (Data format)
                                    </label>
                                </div>
                            </div>

                            <!-- Generate Button -->
                            <button type="button" id="generate-btn" class="btn btn-secondary btn-lg" disabled>
                                üöÄ Generate Curriculum
                            </button>
                        </form>
                    </div>
                </div>
            </div>

            <!-- Info Panel -->
            <div class="col-md-4">
                <div class="card">
                    <div class="card-header">
                        <h5>‚ÑπÔ∏è About UOL Generation</h5>
                    </div>
                    <div class="card-body">
                        <h6>üéØ What are Units of Learning?</h6>
                        <p class="small">UOL breaks down curricula into focused, stackable learning units with concrete industry skills.</p>
                        
                        <h6>üè≠ Industry-Ready Content</h6>
                        <p class="small">Each unit provides specific job skills, workplace applications, and framework alignment.</p>
                        
                        <h6>üß© Stackable Credentials</h6>
                        <p class="small">Units can be combined or taken individually for flexible professional development.</p>
                        
                        <h6>üó∫Ô∏è Framework Compliant</h6>
                        <p class="small">Aligned with e-CF, DigComp, and GreenComp frameworks for EU recognition.</p>
                    </div>
                </div>
            </div>
        </div>

        <!-- Progress Section -->
        <div id="progress-section" class="mt-4" style="display: none;">
            <div class="card">
                <div class="card-header">
                    <h5>‚è≥ Generation in Progress</h5>
                </div>
                <div class="card-body">
                    <div class="progress mb-3">
                        <div id="progress-bar" class="progress-bar progress-bar-striped progress-bar-animated" 
                             role="progressbar" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100" style="width: 0%"></div>
                    </div>
                    <p id="progress-text" class="mb-0">Initializing...</p>
                </div>
            </div>
        </div>

        <!-- Results Section -->
        <div id="results-section" class="mt-4" style="display: none;">
            <div class="card">
                <div class="card-header">
                    <h5>üéâ Generation Complete</h5>
                </div>
                <div class="card-body" id="results-content">
                    <!-- Results will be populated here -->
                </div>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
    <script src="{{ url_for('static', filename='js/generator.js') }}"></script>
</body>
</html>

                            <!-- Theme Selection with EU themes highlighted -->
                            <div class="mb-4">
                                <label for="theme-select" class="form-label h6">6Ô∏è‚É£ Visual Theme</label>
                                <select class="form-select form-select-lg" id="theme-select">
                                    <optgroup label="üá™üá∫ EU Official Themes">
                                        <option value="eu_official">üá™üá∫ EU Official (Institutional)</option>
                                        <option value="eu_professional">üá™üá∫ EU Professional (Business)</option>
                                        <option value="eu_academic">üá™üá∫ EU Academic (University)</option>
                                        <option value="eu_digital">üá™üá∫ EU Digital (E-Learning)</option>
                                    </optgroup>
                                    <optgroup label="üé® Other Themes">
                                        <option value="material_gray" selected>Material Gray (Default)</option>
                                        <option value="sustainability_green">Sustainability Green</option>
                                        <option value="digital_blue">Digital Blue</option>
                                        <option value="professional_purple">Professional Purple</option>
                                        <option value="corporate_navy">Corporate Navy</option>
                                    </optgroup>
                                </select>
                                <div class="form-text">
                                    üá™üá∫ <strong>EU Official themes</strong> use European Union flag colors for institutional compliance
                                </div>
                            </div>
