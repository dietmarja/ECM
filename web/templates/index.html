{% extends "base.html" %}
{% block content %}
<div class="row">
    <div class="col-lg-8">
        <div class="card">
            <div class="card-body">
                <h1 class="card-title">Educational Curriculum Modeller (ECM)</h1>
                <p class="card-text lead">Multi-Objective Curriculum Optimization Framework</p>
                <p class="card-text">
                    ECM generates modular curricula and educational profiles that balance competence coverage, 
                    regulatory compliance, and resource efficiency across multiple educational frameworks.
                </p>
                
                {% if ecm_available %}
                    <div class="alert alert-success">
                        <i class="fas fa-check-circle"></i> ECM components loaded successfully
                    </div>
                {% else %}
                    <div class="alert alert-warning">
                        <i class="fas fa-exclamation-triangle"></i> ECM components not available. 
                        Please check installation.
                    </div>
                {% endif %}
                
                <div class="row mt-4">
                    <div class="col-md-6">
                        <h5>Key Features</h5>
                        <ul>
                            <li>10 professional curricula generation</li>
                            <li>Educational standards compliance</li>
                            <li>Multiple output formats (JSON, HTML, DOCX)</li>
                            <li>Framework analysis and visualization</li>
                        </ul>
                    </div>
                    <div class="col-md-6">
                        <h5>Quick Actions</h5>
                        <a href="{{ url_for('generator') }}" class="btn btn-primary btn-lg d-block mb-2">
                            <i class="fas fa-cog"></i> Generate Curricula
                        </a>
                        <a href="{{ url_for('analysis') }}" class="btn btn-outline-primary d-block">
                            <i class="fas fa-chart-bar"></i> Run Analysis
                        </a>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="col-lg-4">
        <div class="card">
            <div class="card-body">
                <h5 class="card-title">System Status</h5>
                <p><strong>Project Root:</strong><br><small class="text-muted">{{ project_root }}</small></p>
                <button class="btn btn-outline-secondary btn-sm" onclick="checkDependencies()">
                    Check Dependencies
                </button>
                <div id="dependencies-status" class="mt-2"></div>
            </div>
        </div>
    </div>
</div>

<script>
function checkDependencies() {
    fetch('/check_dependencies')
        .then(response => response.json())
        .then(data => {
            const status = document.getElementById('dependencies-status');
            let html = '<small>';
            for (const [dep, available] of Object.entries(data.dependencies)) {
                const icon = available ? 'fa-check text-success' : 'fa-times text-danger';
                html += `<div><i class="fas ${icon}"></i> ${dep}</div>`;
            }
            html += '</small>';
            status.innerHTML = html;
        });
}
</script>
{% endblock %}